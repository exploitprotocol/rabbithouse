---
- name: "Change apt mirror url"
  become: true
  replace: >-
    dest='/etc/apt/sources.list'
    regexp='archive.ubuntu.com/ubuntu'
    replace='ftp.iij.ad.jp/pub/linux/ubuntu/archive'

- name: "Install the common apt packages"
  become: true
  apt:
    name: "{{ item }}"
    state: latest
    update_cache: yes
  with_items:
    - git
    - zsh
    - vim
    - build-essential
    - python

- name: "Create directory to store tools"
  file:
    path: "{{ item }}"
    state: directory
  with_items:
    - ~/bin/
    - "{{ TOOLS_DIRECTORY_CRYPTO }}"
    - "{{ TOOLS_DIRECTORY_REVERSING }}"
    - "{{ TOOLS_DIRECTORY_FORENSICS }}"
    - "{{ TOOLS_DIRECTORY_MISC }}"
    - "{{ TOOLS_DIRECTORY_PROGRAMMING }}"
